CREATE OR REPLACE FUNCTION  sp_login(usernameP text, passwordP text) RETURNS INTEGER AS '
   BEGIN
		if exists(SELECT * FROM UserTable where username = usernameP and password = passwordP) then
            return 1;
      	else
        	return 0;
        end if;
   END;
' LANGUAGE 'plpgsql'
STABLE;


CREATE FUNCTION  sp_register(usernameP text, nameP text, emailP text, passwordP text, rolP integer) RETURNS INTEGER AS '
   BEGIN
		if exists(SELECT * FROM UserTable where username = usernameP) then
            return 0;
       	else
        	insert into UserTable(username, name, email, password, rol) values(usernameP, nameP, emailP, passwordP, rolP); /*drop function sp_register(text,text,text,text,integer);*/
            return 1;
        end if;
   END;
' LANGUAGE 'plpgsql';


